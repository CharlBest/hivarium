<mat-card style="text-align: center;">
    All Hives
</mat-card>

<div class="card-container">
    <mat-card *ngFor="let campaign of campaigns"
        routerLink="/campaign/{{campaign.campaign.uId}}">

        <app-media [src]="campaign.campaign.media"
            [thumbnail]="true"
            mat-card-image></app-media>

        <mat-card-title>{{campaign.campaign.title}}</mat-card-title>
        <mat-card-content>
            <div>{{campaign.campaign.description}}</div>
            <br>
            <div>by
                <strong>{{campaign.owner.username}}</strong>
            </div>
            <br>
            <mat-progress-bar [value]="campaign.totalValueOfSales / campaign.milestones[campaign.milestones.length - 1].unlockAtValueOfSales * 100"></mat-progress-bar>
            <br>
            <span>
                <span>
                    <strong>{{campaign.milestonesReached}}</strong> of
                    <strong>{{campaign.milestones.length}}</strong>
                </span>
                <span>milestones</span>
            </span> |
            <span>
                <span>
                    <strong>{{campaign.totalAmountSold}}</strong> of
                    <strong>{{campaign.totalAvailableProducts}}</strong>
                </span>
                <span>sold</span>
            </span> |
            <span>
                <span>
                    <strong>{{campaign.campaign.daysRemaining}}</strong>
                </span>
                <span>days to go</span>
            </span>
        </mat-card-content>
    </mat-card>
</div>

<button mat-raised-button
    class="center"
    *ngIf="campaigns?.length > 0 && campaigns?.length % 10 == 0"
    (click)="loadMore()">Load more</button>

<mat-card *ngIf="isProcessing">
    <mat-card-content>
        <mat-spinner class="preloader"></mat-spinner>
    </mat-card-content>
</mat-card>

<mat-card *ngIf="campaigns?.length <= 0 && !isProcessing">
    <mat-card-content>
        <mat-icon>do_not_disturb</mat-icon>
        <span>no campaings at the moment sorry</span>
    </mat-card-content>
    <mat-card-actions align="end">
        <button mat-raised-button
            routerLink="/create-campaign">Start campaign</button>
    </mat-card-actions>
</mat-card>